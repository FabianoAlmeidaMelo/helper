{% extends "base.html" %}

{% load bootstrap_toolkit %}

{% block css %}
  <style type="text/css">

    #id_descricao{
      width: 465px;
      height: 70px;
    }
    #id_data_ini,
    #id_data_fim{
        width: 75px;
    }
    #id_hora_ini,
    #id_hora_fim,
    #id_nr_parcela{
        width: 35px;
    }
   </style>
{% endblock css %}

{% block page_title %}
  <div class="page-header">
  <!-- TODO erver esse br -->
  <br>
  {% if agenda %}
    {{ agenda.nome }}
  {% else %}
    Tarefa
  {% endif %}
  </div>
{% endblock page_title %}

{% block content %}
<div class="container-fluid">
  <form method="POST" class="form-inline" >
    {% csrf_token %}
    <div class="form-group">
        {{ form.servico|as_bootstrap }}
        {{ form.titulo|as_bootstrap }}
        {{ form.descricao|as_bootstrap }}

        {{ form.data_ini|as_bootstrap }}
        {{ form.hora_ini|as_bootstrap }}
    
        {{ form.data_fim|as_bootstrap }}
        {{ form.hora_fim|as_bootstrap }}

        {{ form.confirmado|as_bootstrap }}
        {{ form.tipo|as_bootstrap }}
    </div>
    <div class="form-group" id="div_financeiro" {% if not form.instance.tipo %}style="display:none"{% endif %}>
      <div class="form-group">
        {{ form.pago|as_bootstrap }}
        {{ form.valor|as_bootstrap }}
        {{ form.nr_documento|as_bootstrap }}
        {{ form.cartao|as_bootstrap }}
        {{ form.nr_parcela|as_bootstrap }}
      </div>
    </div>

    <div class="form-actions">
      <input type="submit" value="Salvar" class="btn btn-primary">
        {% if agenda %}
          <a href="{% url 'agenda_tarefa_list' conta.id agenda.id %}" class="btn btn-default">Voltar</a>
        {% else %}
          <a href="{% url 'tarefa_list' conta.id %}" class="btn btn-default">Voltar</a>
        {% endif %}
    </div>
  </form>
</div>

{% endblock content %}

{% block extra_js %}
    {{ form.media }}
    <script type="text/javascript">
    jQuery("#id_tipo").click(function(){
         jQuery("#div_financeiro").toggle();
    });
</script>
{% endblock extra_js %}
